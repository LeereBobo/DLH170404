<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<canvas id="myCanvas"></canvas>
<script>
    var oCanvas = document.getElementById("myCanvas");
    oCanvas.width = document.documentElement.clientWidth;
    oCanvas.height = document.documentElement.clientHeight;
    var ctx = oCanvas.getContext("2d");
    function getRandom(min,max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
    }

    function Ball() {
//        半径
        this.r = getRandom(10,30);
//        圆心
        this.x = getRandom(this.r,oCanvas.width - this.r);
        this.y =  getRandom(this.r,oCanvas.height - this.r);

        var speed = getRandom(1,10);
        this.speedX = getRandom(1,3) == 3 ? -speed : speed;
        this.speedY = getRandom(1,3) == 3 ? -speed : speed;
        var rgb_r = getRandom(0,255);
        var rgb_g = getRandom(0,255);
        var rgb_b = getRandom(0,255);
        var rgb_a = getRandom(0,10)/10;
        //rgba(134,23,435,0.3)
        this.color = "rgba(" + rgb_r + "," + rgb_g + "," + rgb_b + "," + rgb_a + ")";
    }
    Ball.prototype.draw = function () {
        ctx.beginPath();
        ctx.arc(this.x,this.y,this.r,0,Math.PI*2);
        ctx.fillStyle = this.color;
        ctx.fill();
    }
    Ball.prototype.move = function () {
        this.x += this.speedX;
        this.y += this.speedY;
//        边界检测
        if(this.x < this.r ||  this.x > oCanvas.width - this.r){
            this.speedX = - this.speedX;
        }
        if(this.y < this.r || this.y > oCanvas.height - this.r){
            this.speedY = -this.speedY;
        }
    }
    var ballArr = [];
   for(var i = 0; i < 3; i++){
       var ball = new Ball();
       //ball.draw();
       ballArr.push(ball);
   }
    setInterval(function () {
        ctx.clearRect(0,0,oCanvas.width,oCanvas.height);
     for(var i = 0; i < ballArr.length;i++){
         ballArr[i].move();
         ballArr[i].draw();
     }
    },30);
</script>
</body>
</html>












