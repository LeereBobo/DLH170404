<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			body {
				text-align: center;
			}
			
			.top {
				width: 50px;
				height: 50px;
				border: 1px solid black;
				display: inline-block;
				text-align: center;
				line-height: 50px;
				color: white;
				opacity: 1;
				position: absolute;
				z-index: 5;
			}
			
			.bottoms {
				width: 52px;
				height: 50px;
				display: inline-block;
				position: fixed;
				z-index: 1;
			}
		</style>
	</head>

	<body>
		<div class="top">A</div>
		<div class="bottoms"></div>
		<div class="top">S</div>
		<div class="bottoms"></div>
		<div class="top">D</div>
		<div class="bottoms"></div>
		<div class="top">J</div>
		<div class="bottoms"></div>
		<div class="top">K</div>
		<div class="bottoms"></div>
		<div class="top">L</div>
		<div class="bottoms"></div>
	</body>

	<script type="text/javascript">
		var oDivs = document.getElementsByClassName("top");
		var oHidDivs = document.getElementsByClassName("bottoms");
		var colors = ["red", "green", "palegreen", "palevioletred", "blueviolet", "yellow"];
		var keyCodes = [65, 83, 68, 74, 75, 76];
		var topTimer = 0;
		var bottomTimer = 0;
		var speed = 5;
		//A65  S83 D68  J74 K75 L76
		for(var i = 0; i < oDivs.length; i++) {
			oDivs[i].style.backgroundColor = colors[i];
			oHidDivs[i].style.backgroundColor = colors[i];
			oDivs[i].style.top = 500 + "px";
			oDivs[i].style.left = 500 + 80 * i + "px";
			oHidDivs[i].style.top = 500 + "px";
			oHidDivs[i].style.left = 500 + 80 * i + "px";
		}

		document.onkeydown = function(ev) {
			var ev = ev || window.event;
			//clearInterval(bottomTimer);
			clearInterval(topTimer);
			for(var i = 0; i < oHidDivs.length; i++) {
				if(ev.keyCode == keyCodes[i]) {
					topTimer = setInterval(function() {
						for(var j = 0; j < oHidDivs.length; j++) {
							if(ev.keyCode == keyCodes[j]) {

								oHidDivs[j].style.height = oHidDivs[j].offsetHeight + speed + "px";
								oHidDivs[j].style.top = oHidDivs[j].offsetTop - speed + "px";
								oHidDivs[j].style.opacity = (j + 1) / 10;
								if(oHidDivs[j].offsetHeight >= 300) {
									oHidDivs[j].style.height = 300 + "px";
									oHidDivs[j].style.top = 250 + "px";
									clearInterval(topTimer);

								}
							}
						}
					}, 20);
				}
			}
		}
		document.onkeyup = function(e) {
			var e = e || window.event;
			clearInterval(bottomTimer);
			clearInterval(topTimer);
			for(var i = 0; i < oHidDivs.length; i++) {
				if(e.keyCode == keyCodes[i]) {
					bottomTimer = setInterval(function() {
						for(var j = 0; j < oHidDivs.length; j++) {
							if(e.keyCode == keyCodes[j]) {
								oHidDivs[j].style.height = oHidDivs[j].offsetHeight - speed + "px";
								oHidDivs[j].style.top = oHidDivs[j].offsetTop + speed + "px";

								console.log(oHidDivs[j].style.opacity);
								if(oHidDivs[j].offsetHeight <= 50) {
									oDivs[j].style.backgroundColor = "black";
									clearInterval(bottomTimer);
								}
							}
						}
					}, 20);
				}
			}
		}
	</script>

</html>