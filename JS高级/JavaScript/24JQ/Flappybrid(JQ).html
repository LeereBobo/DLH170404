<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>

		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			@-webkit-keyframes fly {
				0% {
					background: url(img/bird0.png);
				}
				100% {
					background: url(img/bird1.png);
				}
			}
			
			@-webkit-keyframes headMove {
				0% {
					transform: translateY(0);
				}
				100% {
					transform: translateY(30px);
				}
			}
			
			#wrap {
				width: 320px;
				height: 480px;
				background: url(img/bg.jpg);
				background-size: 100% 100%;
				position: relative;
				overflow: hidden;
				margin: 0 auto;
			}
			
			#head {
				position: absolute;
				left: 50px;
				top: 90px;
				animation: headMove 1s linear infinite;
				animation-direction: alternate;
			}
			
			#head span {
				background: url(img/bird0.png);
				background-size: 100% 100%;
				position: absolute;
				right: 0;
				top: 20px;
				width: 40px;
				height: 26px;
				animation: fly 0.5s linear infinite;
				animation-direction: alternate;
			}
			
			#menu {
				position: absolute;
				left: 37%;
				top: 60%;
				z-index: 1000;
			}
			
			#score {
				position: absolute;
				left: 48%;
				top: 40px;
				z-index: 3;
			}
			
			#slider {
				width: 100%;
				position: absolute;
				left: 0;
				height: 14px;
				top: 422px;
			}
			
			#slider_img {
				position: absolute;
				top: 0;
				left: 0;
				height: 100%;
				overflow: hidden;
			}
			
			#slider img {
				float: left;
				width: 320px;
				height: 100%;
			}
			
			#bird {
				position: absolute;
				left: 30px;
				top: 25%;
				display: none;
			}
			
			#ductWrap {
				width: 320px;
				height: 480px;
				margin: 0 auto;
				position: absolute;
				top: 0;
				left: 0;
				display: none;
				/*overflow: hidden;*/
			}
			
			#ductWrap .ductSmall {
				position: absolute;
				top: 0;
				width: 62px;
				height: 100%;
				/*border: 1px solid black;*/
			}
			
			.duct_up {
				background: url(img/up_mod.png) repeat-y;
				width: 100%;
				height: 30%;
				position: absolute;
				top: 0;
				left: 0;
			}
			
			.duct_up img {
				position: absolute;
				left: 0;
				bottom: 0;
			}
			
			.duct_down {
				background: url(img/down_mod.png) repeat-y;
				height: 45%;
				position: absolute;
				bottom: 0;
				width: 100%;
			}
			
			.duct_down img {
				position: absolute;
				top: 0;
			}
		</style>
	</head>

	<body>
		<div id="wrap">

			<div id="head">
				<img src="img/head.jpg" />
				<span id=""></span>
			</div>
			<div id="menu">
				<img src="img/start.jpg" />
			</div>
			<div id="score">
				<img src="img/0.jpg" />
			</div>
			<div id="slider">
				<div id="slider_img">
					<img src="img/banner.jpg" />
					<img src="img/banner.jpg" />
				</div>
			</div>
			<img src="img/down_bird0.png" id="bird" />
			<div id="ductWrap">
				<!--<div class="ductSmall">
					<div class="duct_up">
						<img src="img/up_pipe.png" />
					</div>

					<div class="duct_down">
						<img src="img/down_pipe.png" />
					</div>
				</div>-->

			</div>

		</div>

		<script src="jquery-1.11.2.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var sliderTimer = null;
			var ductMoveTimer = null;

			//让草坪移动
			var sliderImgW = ($("#slider").eq(0).width()) * 2;
			$("#slider_img").css("width", sliderImgW + "px");
			sliderTimer = setInterval(function() {
				if(($("#slider_img").position().left) <= (-($("#slider_img").outerWidth())) / 2) {
					$("#slider_img").css("left", "0");
				} else {
					$("#slider_img").css("left", ($("#slider_img").position().left - 1) + "px");
				}

			}, 20);
			//点击开始
			$("#menu").click(function() {
				$("#head").css("display", "none");
				$(this).css("display", "none");
				$("#ductWrap").css("display", "block");
				$("#bird").css("display", "block");
			})
			ductMove();

			function ductMove() {
				//每三秒创建一个柱子
				ductMoveTimer = setInterval(function() {
					$("<div class = 'ductSmall'>").appendTo($("#ductWrap"));
					createDuctChild($(".ductSmall"));

					//自定义属性 ,记录柱子距离左侧的位置
					$(".ductSmall").css("theleft","300");
					$(".ductSmall").css("left","theleft" + "px");
					$(".ductSmall").css("add",true);//只让分数加一次
					 
					ductSmallDiv.timer = setInterval(function() {
						ductSmallDiv.theleft -= 2;
						//当柱子移动到屏幕左侧外时,移除元素和本身的定时器
						if(ductSmallDiv.theleft <= -62) {
							clearInterval(ductSmallDiv.timer);
							oDuctWrap.removeChild(ductSmallDiv);
						} else if(ductSmallDiv.theleft < -32) {
							if(ductSmallDiv.add) {
								changeScore();
								ductSmallDiv.add = false;

							}
						}
						ductSmallDiv.style.left = ductSmallDiv.theleft + "px";
					}, 30);
				}, 3000);
			}

			function createDuctChild(ductSmall) {

			}

			function getRandom() {
				return Math.floor(Math.random() * (max - min + 1) + min);
			}
		</script>
	</body>

</html>