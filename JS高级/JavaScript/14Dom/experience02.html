<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin:0;
				padding:0;
			}
			
			#wrap {
				position: absolute;
			}
			
			#wrap div{
				position: absolute;
				background-color: black;
				width:200px;
				color:white;
			}
		</style>
	</head>
	<body>
		<div id="wrap">
			
		</div>
		
		<script type="text/javascript">
			
			var oWarp = document.getElementById("wrap");
			var space = 10 ;
			var colsHeight = [];
			var cols = parseInt(document.documentElement.clientWidth / (space +200));
            
            for(var i = 0 ; i < cols; i++){
            	colsHeight[i] = 0;
            }
            
            function getRandom (max, min){
            	return Math.floor(Math.random() * (max - min + 1) + min);
            }
            
            for(var i = 0; i < 20; i++){
            	var newDiv = document.createElement("div");
            	oWarp.appendChild(newDiv);
            	newDiv.innerHTML = i;
            	newDiv.style .height = getRandom(300,100) + "px";
            	
            	var minIndex = 0; 
            	var minHeight = colsHeight[0];
            	for(var j = 0 ; j < colsHeight.length; j++){
            		if(minHeight > colsHeight[j]){
            			minHeight = colsHeight[j];
            			minIndex = j
            		}
            	}
            	
            	
            	newDiv.style.left = minIndex * (200 + space ) + space + "px";
            	newDiv.style.top = minHeight + space + "px";
            	colsHeight[minIndex] += newDiv.offsetHeight + space;
            	
            }

		</script>
	</body>
</html>
