<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			#all {
				width: 800px;
				height: 800px;
				border: 5px solid pink;
				margin: auto;
				position: relative;
			}
			
			#small,
			#big {
				position: absolute;
				background-color: lightgray;
				border-radius: 50%;
			}
			
			#small {
				width: 40px;
				height: 40px;
				left: 0;
				top: 0;
				z-index: 5;
			}
			
			#big {
				height: 100px;
				width: 100px;
				left: 50%;
				top: 50%;
				margin-left: -100px;
				margin-top: -100px;
			
			}
		</style>
	</head>

	<body>
		<div id="all">
			<div id="small"></div>
			<div id="big"></div>
		</div>

		<script type="text/javascript">
			var oSmall = document.getElementById("small");
			var oBig = document.getElementById("big");
			var oAll = document.getElementById("all");

			oSmall.onmousedown = function(ev) {
				oSmall.onmousemove = function(ev) {
					var ev = ev || window.event;
					var leftType = ev.clientX >= oAll.offsetLeft + oSmall.offsetWidth / 2;
					var rihghtType = ev.clientX <= oAll.offsetLeft + oAll.offsetWidth - oSmall.offsetWidth / 2 - 10
					var topType = ev.clientY >= oAll.offsetTop + oSmall.offsetHeight / 2;
					var bottomType = ev.clientY <= oAll.offsetTop + oAll.offsetHeight - oSmall.offsetHeight / 2 - 10;

					//碰壁设置
					if(leftType && rihghtType && topType && bottomType) {
						oSmall.style.left = ev.clientX - oAll.offsetLeft - oSmall.offsetWidth / 2 + "px";
						oSmall.style.top = ev.clientY - oSmall.offsetHeight / 2 + "px";
					}
					
					//两个球半径之和
					var twoRadius = oSmall.offsetWidth / 2 + (oBig.offsetWidth / 2) ;
					
					//两个直角边
					var aSmallSide = oSmall.offsetHeight / 2 + oSmall.offsetTop;
					var aBigSide = oBig.offsetHeight / 2 + oBig.offsetTop; 
					var aSide =aBigSide - aSmallSide  ;
					
					var bSmallSide = oSmall.offsetWidth / 2 + oSmall.offsetLeft;
					var bBigSide = oBig.offsetWidth / 2 + oBig.offsetLeft; 
					var bSide =bBigSide - bSmallSide  ;
					
					//勾股定理
					
					var tf = twoRadius * twoRadius >= (aSide * aSide + bSide * bSide);
					
					if(tf){
						oBig.style.backgroundColor = "pink";
					}else{
						oBig.style.backgroundColor = "lightgray";
					}
				}
			}
			oSmall.onmouseup = function(){
				oSmall.onmousemove = null;
			}
		</script>
	</body>

</html>