<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#all {
				width: 600px;
				margin: auto;
				text-align: center;
				border: 3px solid black;
				position: relative;
			}
			
			#texts {
				margin: 10px;
				width: 300px;
				margin-bottom: 40px;
			}
			
			#btn {
				background-color: #f6c977;
				position: absolute;
				left: 150px;
				top: 170px;
			}
			
			#div2 {
				width: 300px;
				min-height: 100px;
				background-color: lightgray;
				border-radius: 4px;
				text-align: left;
				margin: 20px auto;
				border: 1px solid black;
				position: relative;
			}
			
			#close {
				position: absolute;
				left: 280px;
				top: 5px;
			}
		</style>
	</head>

	<body>
		<div id="all">
			<textarea name="textarea" rows="10" cols="50" id="texts"></textarea>
			<button id="btn">发布</button>
			<div id="div1">
				<!--<div id = "div2">
					<span id = "close">x</span>
				</div>-->

			</div>
		</div>
		<script type="text/javascript">
			var oAll = document.getElementById("all");
			var oTexts = document.getElementById("texts");
			var oDiv1 = document.getElementById("div1");
			var oBtn = document.getElementById("btn");

			document.onkeydown = function (){
				if(oTexts.value.length > 0) {
					oBtn.style.backgroundColor = "#f19100";
				}else{
					oBtn.style.backgroundColor = "#f6c977";
				}
			}

			oBtn.onclick = function() {
				
				if(oTexts.value.length > 0) {
					var newDiv = document.createElement("div");
					newDiv.id = "div2";
					newDiv.innerHTML = oTexts.value;
					var newSpan = document.createElement("span");
					newSpan.id = "close";
					newSpan.innerHTML = "X";
					oDiv1.appendChild(newDiv);
					newDiv.appendChild(newSpan);
					oTexts.value = null;

					newSpan.onclick = function() {
						oDiv1.removeChild(this.parentNode);
					}
				}

			}
		</script>
	</body>

</html>